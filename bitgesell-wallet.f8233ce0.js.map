{"mappings":"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","sources":["src/assets/telegram-web-app.js"],"sourcesContent":["// WebView\n(function () {\n  var eventHandlers = {};\n\n  var locationHash = '';\n  try {\n    locationHash = location.hash.toString();\n  } catch (e) {}\n\n  var initParams = urlParseHashParams(locationHash);\n  var storedParams = sessionStorageGet('initParams');\n  if (storedParams) {\n    for (var key in storedParams) {\n      if (typeof initParams[key] === 'undefined') {\n        initParams[key] = storedParams[key];\n      }\n    }\n  }\n  sessionStorageSet('initParams', initParams);\n\n  var isIframe = false, iFrameStyle;\n  try {\n    isIframe = (window.parent != null && window != window.parent);\n    if (isIframe) {\n      window.addEventListener('message', function (event) {\n        if (event.source !== window.parent) return;\n        try {\n          var dataParsed = JSON.parse(event.data);\n        } catch (e) {\n          return;\n        }\n        if (!dataParsed || !dataParsed.eventType) {\n          return;\n        }\n        if (dataParsed.eventType == 'set_custom_style') {\n          if (event.origin === 'https://web.telegram.org') {\n            iFrameStyle.innerHTML = dataParsed.eventData;\n          }\n        } else if (dataParsed.eventType == 'reload_iframe') {\n          try {\n            window.parent.postMessage(JSON.stringify({eventType: 'iframe_will_reload'}), '*');\n          } catch (e) {}\n          location.reload();\n        } else {\n          receiveEvent(dataParsed.eventType, dataParsed.eventData);\n        }\n      });\n      iFrameStyle = document.createElement('style');\n      document.head.appendChild(iFrameStyle);\n      try {\n        window.parent.postMessage(JSON.stringify({eventType: 'iframe_ready', eventData: {reload_supported: true}}), '*');\n      } catch (e) {}\n    }\n  } catch (e) {}\n\n  function urlSafeDecode(urlencoded) {\n    try {\n      urlencoded = urlencoded.replace(/\\+/g, '%20');\n      return decodeURIComponent(urlencoded);\n    } catch (e) {\n      return urlencoded;\n    }\n  }\n\n  function urlParseHashParams(locationHash) {\n    locationHash = locationHash.replace(/^#/, '');\n    var params = {};\n    if (!locationHash.length) {\n      return params;\n    }\n    if (locationHash.indexOf('=') < 0 && locationHash.indexOf('?') < 0) {\n      params._path = urlSafeDecode(locationHash);\n      return params;\n    }\n    var qIndex = locationHash.indexOf('?');\n    if (qIndex >= 0) {\n      var pathParam = locationHash.substr(0, qIndex);\n      params._path = urlSafeDecode(pathParam);\n      locationHash = locationHash.substr(qIndex + 1);\n    }\n    var query_params = urlParseQueryString(locationHash);\n    for (var k in query_params) {\n      params[k] = query_params[k];\n    }\n    return params;\n  }\n\n  function urlParseQueryString(queryString) {\n    var params = {};\n    if (!queryString.length) {\n      return params;\n    }\n    var queryStringParams = queryString.split('&');\n    var i, param, paramName, paramValue;\n    for (i = 0; i < queryStringParams.length; i++) {\n      param = queryStringParams[i].split('=');\n      paramName = urlSafeDecode(param[0]);\n      paramValue = param[1] == null ? null : urlSafeDecode(param[1]);\n      params[paramName] = paramValue;\n    }\n    return params;\n  }\n\n  // Telegram apps will implement this logic to add service params (e.g. tgShareScoreUrl) to game URL\n  function urlAppendHashParams(url, addHash) {\n    // url looks like 'https://game.com/path?query=1#hash'\n    // addHash looks like 'tgShareScoreUrl=' + encodeURIComponent('tgb://share_game_score?hash=very_long_hash123')\n\n    var ind = url.indexOf('#');\n    if (ind < 0) {\n      // https://game.com/path -> https://game.com/path#tgShareScoreUrl=etc\n      return url + '#' + addHash;\n    }\n    var curHash = url.substr(ind + 1);\n    if (curHash.indexOf('=') >= 0 || curHash.indexOf('?') >= 0) {\n      // https://game.com/#hash=1 -> https://game.com/#hash=1&tgShareScoreUrl=etc\n      // https://game.com/#path?query -> https://game.com/#path?query&tgShareScoreUrl=etc\n      return url + '&' + addHash;\n    }\n    // https://game.com/#hash -> https://game.com/#hash?tgShareScoreUrl=etc\n    if (curHash.length > 0) {\n      return url + '?' + addHash;\n    }\n    // https://game.com/# -> https://game.com/#tgShareScoreUrl=etc\n    return url + addHash;\n  }\n\n  function postEvent(eventType, callback, eventData) {\n    if (!callback) {\n      callback = function () {};\n    }\n    if (eventData === undefined) {\n      eventData = '';\n    }\n    console.log('[Telegram.WebView] > postEvent', eventType, eventData);\n\n    if (window.TelegramWebviewProxy !== undefined) {\n      TelegramWebviewProxy.postEvent(eventType, JSON.stringify(eventData));\n      callback();\n    }\n    else if (window.external && 'notify' in window.external) {\n      window.external.notify(JSON.stringify({eventType: eventType, eventData: eventData}));\n      callback();\n    }\n    else if (isIframe) {\n      try {\n        var trustedTarget = 'https://web.telegram.org';\n        // For now we don't restrict target, for testing purposes\n        trustedTarget = '*';\n        window.parent.postMessage(JSON.stringify({eventType: eventType, eventData: eventData}), trustedTarget);\n        callback();\n      } catch (e) {\n        callback(e);\n      }\n    }\n    else {\n      callback({notAvailable: true});\n    }\n  };\n\n  function receiveEvent(eventType, eventData) {\n    console.log('[Telegram.WebView] < receiveEvent', eventType, eventData);\n    callEventCallbacks(eventType, function(callback) {\n      callback(eventType, eventData);\n    });\n  }\n\n  function callEventCallbacks(eventType, func) {\n    var curEventHandlers = eventHandlers[eventType];\n    if (curEventHandlers === undefined ||\n        !curEventHandlers.length) {\n      return;\n    }\n    for (var i = 0; i < curEventHandlers.length; i++) {\n      try {\n        func(curEventHandlers[i]);\n      } catch (e) {}\n    }\n  }\n\n  function onEvent(eventType, callback) {\n    if (eventHandlers[eventType] === undefined) {\n      eventHandlers[eventType] = [];\n    }\n    var index = eventHandlers[eventType].indexOf(callback);\n    if (index === -1) {\n      eventHandlers[eventType].push(callback);\n    }\n  };\n\n  function offEvent(eventType, callback) {\n    if (eventHandlers[eventType] === undefined) {\n      return;\n    }\n    var index = eventHandlers[eventType].indexOf(callback);\n    if (index === -1) {\n      return;\n    }\n    eventHandlers[eventType].splice(index, 1);\n  };\n\n  function openProtoUrl(url) {\n    if (!url.match(/^(web\\+)?tgb?:\\/\\/./)) {\n      return false;\n    }\n    var useIframe = navigator.userAgent.match(/iOS|iPhone OS|iPhone|iPod|iPad/i) ? true : false;\n    if (useIframe) {\n      var iframeContEl = document.getElementById('tgme_frame_cont') || document.body;\n      var iframeEl = document.createElement('iframe');\n      iframeContEl.appendChild(iframeEl);\n      var pageHidden = false;\n      var enableHidden = function () {\n        pageHidden = true;\n      };\n      window.addEventListener('pagehide', enableHidden, false);\n      window.addEventListener('blur', enableHidden, false);\n      if (iframeEl !== null) {\n        iframeEl.src = url;\n      }\n      setTimeout(function() {\n        if (!pageHidden) {\n          window.location = url;\n        }\n        window.removeEventListener('pagehide', enableHidden, false);\n        window.removeEventListener('blur', enableHidden, false);\n      }, 2000);\n    }\n    else {\n      window.location = url;\n    }\n    return true;\n  }\n\n  function sessionStorageSet(key, value) {\n    try {\n      window.sessionStorage.setItem('__telegram__' + key, JSON.stringify(value));\n      return true;\n    } catch(e) {}\n    return false;\n  }\n  function sessionStorageGet(key) {\n    try {\n      return JSON.parse(window.sessionStorage.getItem('__telegram__' + key));\n    } catch(e) {}\n    return null;\n  }\n\n  if (!window.Telegram) {\n    window.Telegram = {};\n  }\n  window.Telegram.WebView = {\n    initParams: initParams,\n    isIframe: isIframe,\n    onEvent: onEvent,\n    offEvent: offEvent,\n    postEvent: postEvent,\n    receiveEvent: receiveEvent,\n    callEventCallbacks: callEventCallbacks\n  };\n\n  window.Telegram.Utils = {\n    urlSafeDecode: urlSafeDecode,\n    urlParseQueryString: urlParseQueryString,\n    urlParseHashParams: urlParseHashParams,\n    urlAppendHashParams: urlAppendHashParams,\n    sessionStorageSet: sessionStorageSet,\n    sessionStorageGet: sessionStorageGet\n  };\n\n  // For Windows Phone app\n  window.TelegramGameProxy_receiveEvent = receiveEvent;\n\n  // App backward compatibility\n  window.TelegramGameProxy = {\n    receiveEvent: receiveEvent\n  };\n})();\n\n// WebApp\n(function () {\n  var Utils = window.Telegram.Utils;\n  var WebView = window.Telegram.WebView;\n  var initParams = WebView.initParams;\n  var isIframe = WebView.isIframe;\n\n  var WebApp = {};\n  var webAppInitData = '', webAppInitDataUnsafe = {};\n  var themeParams = {}, colorScheme = 'light';\n  var webAppVersion = '6.0';\n  var webAppPlatform = 'unknown';\n\n  if (initParams.tgWebAppData && initParams.tgWebAppData.length) {\n    webAppInitData = initParams.tgWebAppData;\n    webAppInitDataUnsafe = Utils.urlParseQueryString(webAppInitData);\n    for (var key in webAppInitDataUnsafe) {\n      var val = webAppInitDataUnsafe[key];\n      try {\n        if (val.substr(0, 1) == '{' && val.substr(-1) == '}' ||\n            val.substr(0, 1) == '[' && val.substr(-1) == ']') {\n          webAppInitDataUnsafe[key] = JSON.parse(val);\n        }\n      } catch (e) {}\n    }\n  }\n  if (initParams.tgWebAppThemeParams && initParams.tgWebAppThemeParams.length) {\n    var themeParamsRaw = initParams.tgWebAppThemeParams;\n    try {\n      var theme_params = JSON.parse(themeParamsRaw);\n      if (theme_params) {\n        setThemeParams(theme_params);\n      }\n    } catch (e) {}\n  }\n  var theme_params = Utils.sessionStorageGet('themeParams');\n  if (theme_params) {\n    setThemeParams(theme_params);\n  }\n  if (initParams.tgWebAppVersion) {\n    webAppVersion = initParams.tgWebAppVersion;\n  }\n  if (initParams.tgWebAppPlatform) {\n    webAppPlatform = initParams.tgWebAppPlatform;\n  }\n\n  function onThemeChanged(eventType, eventData) {\n    if (eventData.theme_params) {\n      setThemeParams(eventData.theme_params);\n      window.Telegram.WebApp.MainButton.setParams({});\n      updateBackgroundColor();\n      receiveWebViewEvent('themeChanged');\n    }\n  }\n\n  var lastWindowHeight = window.innerHeight;\n  function onViewportChanged(eventType, eventData) {\n    if (eventData.height) {\n      window.removeEventListener('resize', onWindowResize);\n      setViewportHeight(eventData);\n    }\n  }\n\n  function onWindowResize(e) {\n    if (lastWindowHeight != window.innerHeight) {\n      lastWindowHeight = window.innerHeight;\n      receiveWebViewEvent('viewportChanged', {\n        isStateStable: true\n      });\n    }\n  }\n\n  function linkHandler(e) {\n    if (e.metaKey || e.ctrlKey) return;\n    var el = e.target;\n    while (el.tagName != 'A' && el.parentNode) {\n      el = el.parentNode;\n    }\n    if (el.tagName == 'A' &&\n        el.target != '_blank' &&\n        (el.protocol == 'http:' || el.protocol == 'https:') &&\n        el.hostname == 't.me') {\n      WebApp.openTgLink(el.href);\n      e.preventDefault();\n    }\n  }\n\n  function strTrim(str) {\n    return str.toString().replace(/^\\s+|\\s+$/g, '');\n  }\n\n  function receiveWebViewEvent(eventType) {\n    var args = Array.prototype.slice.call(arguments);\n    eventType = args.shift();\n    WebView.callEventCallbacks('webview:' + eventType, function(callback) {\n      callback.apply(WebApp, args);\n    });\n  }\n\n  function onWebViewEvent(eventType, callback) {\n    WebView.onEvent('webview:' + eventType, callback);\n  };\n\n  function offWebViewEvent(eventType, callback) {\n    WebView.offEvent('webview:' + eventType, callback);\n  };\n\n  function setCssProperty(name, value) {\n    var root = document.documentElement;\n    if (root && root.style && root.style.setProperty) {\n      root.style.setProperty('--tg-' + name, value);\n    }\n  }\n\n  function setThemeParams(theme_params) {\n    // temp iOS fix\n    if (theme_params.bg_color == '#1c1c1d' &&\n        theme_params.bg_color == theme_params.secondary_bg_color) {\n      theme_params.secondary_bg_color = '#2c2c2e';\n    }\n    var color;\n    for (var key in theme_params) {\n      if (color = parseColorToHex(theme_params[key])) {\n        themeParams[key] = color;\n        if (key == 'bg_color') {\n          colorScheme = isColorDark(color) ? 'dark' : 'light'\n          setCssProperty('color-scheme', colorScheme);\n        }\n        key = 'theme-' + key.split('_').join('-');\n        setCssProperty(key, color);\n      }\n    }\n    Utils.sessionStorageSet('themeParams', themeParams);\n  }\n\n  var webAppCallbacks = {};\n  function generateCallbackId(len) {\n    var tries = 100;\n    while (--tries) {\n      var id = '', chars = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789', chars_len = chars.length;\n      for (var i = 0; i < len; i++) {\n        id += chars[Math.floor(Math.random() * chars_len)];\n      }\n      if (!webAppCallbacks[id]) {\n        webAppCallbacks[id] = {};\n        return id;\n      }\n    }\n    throw Error('WebAppCallbackIdGenerateFailed');\n  }\n\n  var viewportHeight = false, viewportStableHeight = false, isExpanded = true;\n  function setViewportHeight(data) {\n    if (typeof data !== 'undefined') {\n      isExpanded = !!data.is_expanded;\n      viewportHeight = data.height;\n      if (data.is_state_stable) {\n        viewportStableHeight = data.height;\n      }\n      receiveWebViewEvent('viewportChanged', {\n        isStateStable: !!data.is_state_stable\n      });\n    }\n    var height, stable_height;\n    if (viewportHeight !== false) {\n      height = (viewportHeight - mainButtonHeight) + 'px';\n    } else {\n      height = mainButtonHeight ? 'calc(100vh - ' + mainButtonHeight + 'px)' : '100vh';\n    }\n    if (viewportStableHeight !== false) {\n      stable_height = (viewportStableHeight - mainButtonHeight) + 'px';\n    } else {\n      stable_height = mainButtonHeight ? 'calc(100vh - ' + mainButtonHeight + 'px)' : '100vh';\n    }\n    setCssProperty('viewport-height', height);\n    setCssProperty('viewport-stable-height', stable_height);\n  }\n\n  var isClosingConfirmationEnabled = false;\n  function setClosingConfirmation(need_confirmation) {\n    if (!versionAtLeast('6.2')) {\n      console.warn('[Telegram.WebApp] Closing confirmation is not supported in version ' + webAppVersion);\n      return;\n    }\n    isClosingConfirmationEnabled = !!need_confirmation;\n    WebView.postEvent('web_app_setup_closing_behavior', false, {need_confirmation: isClosingConfirmationEnabled});\n  }\n\n  var isVerticalSwipesEnabled = true;\n  function toggleVerticalSwipes(enable_swipes) {\n    if (!versionAtLeast('7.7')) {\n      console.warn('[Telegram.WebApp] Changing swipes behavior is not supported in version ' + webAppVersion);\n      return;\n    }\n    isVerticalSwipesEnabled = !!enable_swipes;\n    WebView.postEvent('web_app_setup_swipe_behavior', false, {allow_vertical_swipe: isVerticalSwipesEnabled});\n  }\n\n  var headerColorKey = 'bg_color', headerColor = null;\n  function getHeaderColor() {\n    if (headerColorKey == 'secondary_bg_color') {\n      return themeParams.secondary_bg_color;\n    } else if (headerColorKey == 'bg_color') {\n      return themeParams.bg_color;\n    }\n    return headerColor;\n  }\n  function setHeaderColor(color) {\n    if (!versionAtLeast('6.1')) {\n      console.warn('[Telegram.WebApp] Header color is not supported in version ' + webAppVersion);\n      return;\n    }\n    if (!versionAtLeast('6.9')) {\n      if (themeParams.bg_color &&\n          themeParams.bg_color == color) {\n        color = 'bg_color';\n      } else if (themeParams.secondary_bg_color &&\n                 themeParams.secondary_bg_color == color) {\n        color = 'secondary_bg_color';\n      }\n    }\n    var head_color = null, color_key = null;\n    if (color == 'bg_color' || color == 'secondary_bg_color') {\n      color_key = color;\n    } else if (versionAtLeast('6.9')) {\n      head_color = parseColorToHex(color);\n      if (!head_color) {\n        console.error('[Telegram.WebApp] Header color format is invalid', color);\n        throw Error('WebAppHeaderColorInvalid');\n      }\n    }\n    if (!versionAtLeast('6.9') &&\n        color_key != 'bg_color' &&\n        color_key != 'secondary_bg_color') {\n      console.error('[Telegram.WebApp] Header color key should be one of Telegram.WebApp.themeParams.bg_color, Telegram.WebApp.themeParams.secondary_bg_color, \\'bg_color\\', \\'secondary_bg_color\\'', color);\n      throw Error('WebAppHeaderColorKeyInvalid');\n    }\n    headerColorKey = color_key;\n    headerColor = head_color;\n    updateHeaderColor();\n  }\n  var appHeaderColorKey = null, appHeaderColor = null;\n  function updateHeaderColor() {\n    if (appHeaderColorKey != headerColorKey ||\n        appHeaderColor != headerColor) {\n      appHeaderColorKey = headerColorKey;\n      appHeaderColor = headerColor;\n      if (appHeaderColor) {\n        WebView.postEvent('web_app_set_header_color', false, {color: headerColor});\n      } else {\n        WebView.postEvent('web_app_set_header_color', false, {color_key: headerColorKey});\n      }\n    }\n  }\n\n  var backgroundColor = 'bg_color';\n  function getBackgroundColor() {\n    if (backgroundColor == 'secondary_bg_color') {\n      return themeParams.secondary_bg_color;\n    } else if (backgroundColor == 'bg_color') {\n      return themeParams.bg_color;\n    }\n    return backgroundColor;\n  }\n  function setBackgroundColor(color) {\n    if (!versionAtLeast('6.1')) {\n      console.warn('[Telegram.WebApp] Background color is not supported in version ' + webAppVersion);\n      return;\n    }\n    var bg_color;\n    if (color == 'bg_color' || color == 'secondary_bg_color') {\n      bg_color = color;\n    } else {\n      bg_color = parseColorToHex(color);\n      if (!bg_color) {\n        console.error('[Telegram.WebApp] Background color format is invalid', color);\n        throw Error('WebAppBackgroundColorInvalid');\n      }\n    }\n    backgroundColor = bg_color;\n    updateBackgroundColor();\n  }\n  var appBackgroundColor = null;\n  function updateBackgroundColor() {\n    var color = getBackgroundColor();\n    if (appBackgroundColor != color) {\n      appBackgroundColor = color;\n      WebView.postEvent('web_app_set_background_color', false, {color: color});\n    }\n  }\n\n\n  function parseColorToHex(color) {\n    color += '';\n    var match;\n    if (match = /^\\s*#([0-9a-f]{6})\\s*$/i.exec(color)) {\n      return '#' + match[1].toLowerCase();\n    }\n    else if (match = /^\\s*#([0-9a-f])([0-9a-f])([0-9a-f])\\s*$/i.exec(color)) {\n      return ('#' + match[1] + match[1] + match[2] + match[2] + match[3] + match[3]).toLowerCase();\n    }\n    else if (match = /^\\s*rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+)(?:,\\s*(\\d+\\.{0,1}\\d*))?\\)\\s*$/.exec(color)) {\n      var r = parseInt(match[1]), g = parseInt(match[2]), b = parseInt(match[3]);\n      r = (r < 16 ? '0' : '') + r.toString(16);\n      g = (g < 16 ? '0' : '') + g.toString(16);\n      b = (b < 16 ? '0' : '') + b.toString(16);\n      return '#' + r + g + b;\n    }\n    return false;\n  }\n\n  function isColorDark(rgb) {\n    rgb = rgb.replace(/[\\s#]/g, '');\n    if (rgb.length == 3) {\n      rgb = rgb[0] + rgb[0] + rgb[1] + rgb[1] + rgb[2] + rgb[2];\n    }\n    var r = parseInt(rgb.substr(0, 2), 16);\n    var g = parseInt(rgb.substr(2, 2), 16);\n    var b = parseInt(rgb.substr(4, 2), 16);\n    var hsp = Math.sqrt(0.299 * (r * r) + 0.587 * (g * g) + 0.114 * (b * b));\n    return hsp < 120;\n  }\n\n  function versionCompare(v1, v2) {\n    if (typeof v1 !== 'string') v1 = '';\n    if (typeof v2 !== 'string') v2 = '';\n    v1 = v1.replace(/^\\s+|\\s+$/g, '').split('.');\n    v2 = v2.replace(/^\\s+|\\s+$/g, '').split('.');\n    var a = Math.max(v1.length, v2.length), i, p1, p2;\n    for (i = 0; i < a; i++) {\n      p1 = parseInt(v1[i]) || 0;\n      p2 = parseInt(v2[i]) || 0;\n      if (p1 == p2) continue;\n      if (p1 > p2) return 1;\n      return -1;\n    }\n    return 0;\n  }\n\n  function versionAtLeast(ver) {\n    return versionCompare(webAppVersion, ver) >= 0;\n  }\n\n  function byteLength(str) {\n    if (window.Blob) {\n      try { return new Blob([str]).size; } catch (e) {}\n    }\n    var s = str.length;\n    for (var i=str.length-1; i>=0; i--) {\n      var code = str.charCodeAt(i);\n      if (code > 0x7f && code <= 0x7ff) s++;\n      else if (code > 0x7ff && code <= 0xffff) s+=2;\n      if (code >= 0xdc00 && code <= 0xdfff) i--;\n    }\n    return s;\n  }\n\n  var BackButton = (function() {\n    var isVisible = false;\n\n    var backButton = {};\n    Object.defineProperty(backButton, 'isVisible', {\n      set: function(val){ setParams({is_visible: val}); },\n      get: function(){ return isVisible; },\n      enumerable: true\n    });\n\n    var curButtonState = null;\n\n    WebView.onEvent('back_button_pressed', onBackButtonPressed);\n\n    function onBackButtonPressed() {\n      receiveWebViewEvent('backButtonClicked');\n    }\n\n    function buttonParams() {\n      return {is_visible: isVisible};\n    }\n\n    function buttonState(btn_params) {\n      if (typeof btn_params === 'undefined') {\n        btn_params = buttonParams();\n      }\n      return JSON.stringify(btn_params);\n    }\n\n    function buttonCheckVersion() {\n      if (!versionAtLeast('6.1')) {\n        console.warn('[Telegram.WebApp] BackButton is not supported in version ' + webAppVersion);\n        return false;\n      }\n      return true;\n    }\n\n    function updateButton() {\n      var btn_params = buttonParams();\n      var btn_state = buttonState(btn_params);\n      if (curButtonState === btn_state) {\n        return;\n      }\n      curButtonState = btn_state;\n      WebView.postEvent('web_app_setup_back_button', false, btn_params);\n    }\n\n    function setParams(params) {\n      if (!buttonCheckVersion()) {\n        return backButton;\n      }\n      if (typeof params.is_visible !== 'undefined') {\n        isVisible = !!params.is_visible;\n      }\n      updateButton();\n      return backButton;\n    }\n\n    backButton.onClick = function(callback) {\n      if (buttonCheckVersion()) {\n        onWebViewEvent('backButtonClicked', callback);\n      }\n      return backButton;\n    };\n    backButton.offClick = function(callback) {\n      if (buttonCheckVersion()) {\n        offWebViewEvent('backButtonClicked', callback);\n      }\n      return backButton;\n    };\n    backButton.show = function() {\n      return setParams({is_visible: true});\n    };\n    backButton.hide = function() {\n      return setParams({is_visible: false});\n    };\n    return backButton;\n  })();\n\n  var mainButtonHeight = 0;\n  var MainButton = (function() {\n    var isVisible = false;\n    var isActive = true;\n    var isProgressVisible = false;\n    var buttonText = 'CONTINUE';\n    var buttonColor = false;\n    var buttonTextColor = false;\n\n    var mainButton = {};\n    Object.defineProperty(mainButton, 'text', {\n      set: function(val){ mainButton.setParams({text: val}); },\n      get: function(){ return buttonText; },\n      enumerable: true\n    });\n    Object.defineProperty(mainButton, 'color', {\n      set: function(val){ mainButton.setParams({color: val}); },\n      get: function(){ return buttonColor || themeParams.button_color || '#2481cc'; },\n      enumerable: true\n    });\n    Object.defineProperty(mainButton, 'textColor', {\n      set: function(val){ mainButton.setParams({text_color: val}); },\n      get: function(){ return buttonTextColor || themeParams.button_text_color || '#ffffff'; },\n      enumerable: true\n    });\n    Object.defineProperty(mainButton, 'isVisible', {\n      set: function(val){ mainButton.setParams({is_visible: val}); },\n      get: function(){ return isVisible; },\n      enumerable: true\n    });\n    Object.defineProperty(mainButton, 'isProgressVisible', {\n      get: function(){ return isProgressVisible; },\n      enumerable: true\n    });\n    Object.defineProperty(mainButton, 'isActive', {\n      set: function(val){ mainButton.setParams({is_active: val}); },\n      get: function(){ return isActive; },\n      enumerable: true\n    });\n\n    var curButtonState = null;\n\n    WebView.onEvent('main_button_pressed', onMainButtonPressed);\n\n    var debugBtn = null, debugBtnStyle = {};\n    if (initParams.tgWebAppDebug) {\n      debugBtn = document.createElement('tg-main-button');\n      debugBtnStyle = {\n        font: '600 14px/18px sans-serif',\n        display: 'none',\n        width: '100%',\n        height: '48px',\n        borderRadius: '0',\n        background: 'no-repeat right center',\n        position: 'fixed',\n        left: '0',\n        right: '0',\n        bottom: '0',\n        margin: '0',\n        padding: '15px 20px',\n        textAlign: 'center',\n        boxSizing: 'border-box',\n        zIndex: '10000'\n      };\n      for (var k in debugBtnStyle) {\n        debugBtn.style[k] = debugBtnStyle[k];\n      }\n      document.addEventListener('DOMContentLoaded', function onDomLoaded(event) {\n        document.removeEventListener('DOMContentLoaded', onDomLoaded);\n        document.body.appendChild(debugBtn);\n        debugBtn.addEventListener('click', onMainButtonPressed, false);\n      });\n    }\n\n    function onMainButtonPressed() {\n      if (isActive) {\n        receiveWebViewEvent('mainButtonClicked');\n      }\n    }\n\n    function buttonParams() {\n      var color = mainButton.color;\n      var text_color = mainButton.textColor;\n      return isVisible ? {\n        is_visible: true,\n        is_active: isActive,\n        is_progress_visible: isProgressVisible,\n        text: buttonText,\n        color: color,\n        text_color: text_color\n      } : {is_visible: false};\n    }\n\n    function buttonState(btn_params) {\n      if (typeof btn_params === 'undefined') {\n        btn_params = buttonParams();\n      }\n      return JSON.stringify(btn_params);\n    }\n\n    function updateButton() {\n      var btn_params = buttonParams();\n      var btn_state = buttonState(btn_params);\n      if (curButtonState === btn_state) {\n        return;\n      }\n      curButtonState = btn_state;\n      WebView.postEvent('web_app_setup_main_button', false, btn_params);\n      if (initParams.tgWebAppDebug) {\n        updateDebugButton(btn_params);\n      }\n    }\n\n    function updateDebugButton(btn_params) {\n      if (btn_params.is_visible) {\n        debugBtn.style.display = 'block';\n        mainButtonHeight = 48;\n\n        debugBtn.style.opacity = btn_params.is_active ? '1' : '0.8';\n        debugBtn.style.cursor = btn_params.is_active ? 'pointer' : 'auto';\n        debugBtn.disabled = !btn_params.is_active;\n        debugBtn.innerText = btn_params.text;\n        debugBtn.style.backgroundImage = btn_params.is_progress_visible ? \"url('data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20viewport%3D%220%200%2048%2048%22%20width%3D%2248px%22%20height%3D%2248px%22%3E%3Ccircle%20cx%3D%2250%25%22%20cy%3D%2250%25%22%20stroke%3D%22%23fff%22%20stroke-width%3D%222.25%22%20stroke-linecap%3D%22round%22%20fill%3D%22none%22%20stroke-dashoffset%3D%22106%22%20r%3D%229%22%20stroke-dasharray%3D%2256.52%22%20rotate%3D%22-90%22%3E%3Canimate%20attributeName%3D%22stroke-dashoffset%22%20attributeType%3D%22XML%22%20dur%3D%22360s%22%20from%3D%220%22%20to%3D%2212500%22%20repeatCount%3D%22indefinite%22%3E%3C%2Fanimate%3E%3CanimateTransform%20attributeName%3D%22transform%22%20attributeType%3D%22XML%22%20type%3D%22rotate%22%20dur%3D%221s%22%20from%3D%22-90%2024%2024%22%20to%3D%22630%2024%2024%22%20repeatCount%3D%22indefinite%22%3E%3C%2FanimateTransform%3E%3C%2Fcircle%3E%3C%2Fsvg%3E')\" : 'none';\n        debugBtn.style.backgroundColor = btn_params.color;\n        debugBtn.style.color = btn_params.text_color;\n      } else {\n        debugBtn.style.display = 'none';\n        mainButtonHeight = 0;\n      }\n      if (document.documentElement) {\n        document.documentElement.style.boxSizing = 'border-box';\n        document.documentElement.style.paddingBottom = mainButtonHeight + 'px';\n      }\n      setViewportHeight();\n    }\n\n    function setParams(params) {\n      if (typeof params.text !== 'undefined') {\n        var text = strTrim(params.text);\n        if (!text.length) {\n          console.error('[Telegram.WebApp] Main button text is required', params.text);\n          throw Error('WebAppMainButtonParamInvalid');\n        }\n        if (text.length > 64) {\n          console.error('[Telegram.WebApp] Main button text is too long', text);\n          throw Error('WebAppMainButtonParamInvalid');\n        }\n        buttonText = text;\n      }\n      if (typeof params.color !== 'undefined') {\n        if (params.color === false ||\n            params.color === null) {\n          buttonColor = false;\n        } else {\n          var color = parseColorToHex(params.color);\n          if (!color) {\n            console.error('[Telegram.WebApp] Main button color format is invalid', params.color);\n            throw Error('WebAppMainButtonParamInvalid');\n          }\n          buttonColor = color;\n        }\n      }\n      if (typeof params.text_color !== 'undefined') {\n        if (params.text_color === false ||\n            params.text_color === null) {\n          buttonTextColor = false;\n        } else {\n          var text_color = parseColorToHex(params.text_color);\n          if (!text_color) {\n            console.error('[Telegram.WebApp] Main button text color format is invalid', params.text_color);\n            throw Error('WebAppMainButtonParamInvalid');\n          }\n          buttonTextColor = text_color;\n        }\n      }\n      if (typeof params.is_visible !== 'undefined') {\n        if (params.is_visible &&\n            !mainButton.text.length) {\n          console.error('[Telegram.WebApp] Main button text is required');\n          throw Error('WebAppMainButtonParamInvalid');\n        }\n        isVisible = !!params.is_visible;\n      }\n      if (typeof params.is_active !== 'undefined') {\n        isActive = !!params.is_active;\n      }\n      updateButton();\n      return mainButton;\n    }\n\n    mainButton.setText = function(text) {\n      return mainButton.setParams({text: text});\n    };\n    mainButton.onClick = function(callback) {\n      onWebViewEvent('mainButtonClicked', callback);\n      return mainButton;\n    };\n    mainButton.offClick = function(callback) {\n      offWebViewEvent('mainButtonClicked', callback);\n      return mainButton;\n    };\n    mainButton.show = function() {\n      return mainButton.setParams({is_visible: true});\n    };\n    mainButton.hide = function() {\n      return mainButton.setParams({is_visible: false});\n    };\n    mainButton.enable = function() {\n      return mainButton.setParams({is_active: true});\n    };\n    mainButton.disable = function() {\n      return mainButton.setParams({is_active: false});\n    };\n    mainButton.showProgress = function(leaveActive) {\n      isActive = !!leaveActive;\n      isProgressVisible = true;\n      updateButton();\n      return mainButton;\n    };\n    mainButton.hideProgress = function() {\n      if (!mainButton.isActive) {\n        isActive = true;\n      }\n      isProgressVisible = false;\n      updateButton();\n      return mainButton;\n    }\n    mainButton.setParams = setParams;\n    return mainButton;\n  })();\n\n  var SettingsButton = (function() {\n    var isVisible = false;\n\n    var settingsButton = {};\n    Object.defineProperty(settingsButton, 'isVisible', {\n      set: function(val){ setParams({is_visible: val}); },\n      get: function(){ return isVisible; },\n      enumerable: true\n    });\n\n    var curButtonState = null;\n\n    WebView.onEvent('settings_button_pressed', onSettingsButtonPressed);\n\n    function onSettingsButtonPressed() {\n      receiveWebViewEvent('settingsButtonClicked');\n    }\n\n    function buttonParams() {\n      return {is_visible: isVisible};\n    }\n\n    function buttonState(btn_params) {\n      if (typeof btn_params === 'undefined') {\n        btn_params = buttonParams();\n      }\n      return JSON.stringify(btn_params);\n    }\n\n    function buttonCheckVersion() {\n      if (!versionAtLeast('6.10')) {\n        console.warn('[Telegram.WebApp] SettingsButton is not supported in version ' + webAppVersion);\n        return false;\n      }\n      return true;\n    }\n\n    function updateButton() {\n      var btn_params = buttonParams();\n      var btn_state = buttonState(btn_params);\n      if (curButtonState === btn_state) {\n        return;\n      }\n      curButtonState = btn_state;\n      WebView.postEvent('web_app_setup_settings_button', false, btn_params);\n    }\n\n    function setParams(params) {\n      if (!buttonCheckVersion()) {\n        return settingsButton;\n      }\n      if (typeof params.is_visible !== 'undefined') {\n        isVisible = !!params.is_visible;\n      }\n      updateButton();\n      return settingsButton;\n    }\n\n    settingsButton.onClick = function(callback) {\n      if (buttonCheckVersion()) {\n        onWebViewEvent('settingsButtonClicked', callback);\n      }\n      return settingsButton;\n    };\n    settingsButton.offClick = function(callback) {\n      if (buttonCheckVersion()) {\n        offWebViewEvent('settingsButtonClicked', callback);\n      }\n      return settingsButton;\n    };\n    settingsButton.show = function() {\n      return setParams({is_visible: true});\n    };\n    settingsButton.hide = function() {\n      return setParams({is_visible: false});\n    };\n    return settingsButton;\n  })();\n\n  var HapticFeedback = (function() {\n    var hapticFeedback = {};\n\n    function triggerFeedback(params) {\n      if (!versionAtLeast('6.1')) {\n        console.warn('[Telegram.WebApp] HapticFeedback is not supported in version ' + webAppVersion);\n        return hapticFeedback;\n      }\n      if (params.type == 'impact') {\n        if (params.impact_style != 'light' &&\n            params.impact_style != 'medium' &&\n            params.impact_style != 'heavy' &&\n            params.impact_style != 'rigid' &&\n            params.impact_style != 'soft') {\n          console.error('[Telegram.WebApp] Haptic impact style is invalid', params.impact_style);\n          throw Error('WebAppHapticImpactStyleInvalid');\n        }\n      } else if (params.type == 'notification') {\n        if (params.notification_type != 'error' &&\n            params.notification_type != 'success' &&\n            params.notification_type != 'warning') {\n          console.error('[Telegram.WebApp] Haptic notification type is invalid', params.notification_type);\n          throw Error('WebAppHapticNotificationTypeInvalid');\n        }\n      } else if (params.type == 'selection_change') {\n        // no params needed\n      } else {\n        console.error('[Telegram.WebApp] Haptic feedback type is invalid', params.type);\n        throw Error('WebAppHapticFeedbackTypeInvalid');\n      }\n      WebView.postEvent('web_app_trigger_haptic_feedback', false, params);\n      return hapticFeedback;\n    }\n\n    hapticFeedback.impactOccurred = function(style) {\n      return triggerFeedback({type: 'impact', impact_style: style});\n    };\n    hapticFeedback.notificationOccurred = function(type) {\n      return triggerFeedback({type: 'notification', notification_type: type});\n    };\n    hapticFeedback.selectionChanged = function() {\n      return triggerFeedback({type: 'selection_change'});\n    };\n    return hapticFeedback;\n  })();\n\n  var CloudStorage = (function() {\n    var cloudStorage = {};\n\n    function invokeStorageMethod(method, params, callback) {\n      if (!versionAtLeast('6.9')) {\n        console.error('[Telegram.WebApp] CloudStorage is not supported in version ' + webAppVersion);\n        throw Error('WebAppMethodUnsupported');\n      }\n      invokeCustomMethod(method, params, callback);\n      return cloudStorage;\n    }\n\n    cloudStorage.setItem = function(key, value, callback) {\n      return invokeStorageMethod('saveStorageValue', {key: key, value: value}, callback);\n    };\n    cloudStorage.getItem = function(key, callback) {\n      return cloudStorage.getItems([key], callback ? function(err, res) {\n        if (err) callback(err);\n        else callback(null, res[key]);\n      } : null);\n    };\n    cloudStorage.getItems = function(keys, callback) {\n      return invokeStorageMethod('getStorageValues', {keys: keys}, callback);\n    };\n    cloudStorage.removeItem = function(key, callback) {\n      return cloudStorage.removeItems([key], callback);\n    };\n    cloudStorage.removeItems = function(keys, callback) {\n      return invokeStorageMethod('deleteStorageValues', {keys: keys}, callback);\n    };\n    cloudStorage.getKeys = function(callback) {\n      return invokeStorageMethod('getStorageKeys', {}, callback);\n    };\n    return cloudStorage;\n  })();\n\n  var BiometricManager = (function() {\n    var isInited = false;\n    var isBiometricAvailable = false;\n    var biometricType = 'unknown';\n    var isAccessRequested = false;\n    var isAccessGranted = false;\n    var isBiometricTokenSaved = false;\n    var deviceId = '';\n\n    var biometricManager = {};\n    Object.defineProperty(biometricManager, 'isInited', {\n      get: function(){ return isInited; },\n      enumerable: true\n    });\n    Object.defineProperty(biometricManager, 'isBiometricAvailable', {\n      get: function(){ return isInited && isBiometricAvailable; },\n      enumerable: true\n    });\n    Object.defineProperty(biometricManager, 'biometricType', {\n      get: function(){ return biometricType || 'unknown'; },\n      enumerable: true\n    });\n    Object.defineProperty(biometricManager, 'isAccessRequested', {\n      get: function(){ return isAccessRequested; },\n      enumerable: true\n    });\n    Object.defineProperty(biometricManager, 'isAccessGranted', {\n      get: function(){ return isAccessRequested && isAccessGranted; },\n      enumerable: true\n    });\n    Object.defineProperty(biometricManager, 'isBiometricTokenSaved', {\n      get: function(){ return isBiometricTokenSaved; },\n      enumerable: true\n    });\n    Object.defineProperty(biometricManager, 'deviceId', {\n      get: function(){ return deviceId || ''; },\n      enumerable: true\n    });\n\n    var initRequestState = {callbacks: []};\n    var accessRequestState = false;\n    var authRequestState = false;\n    var tokenRequestState = false;\n\n    WebView.onEvent('biometry_info_received',  onBiometryInfoReceived);\n    WebView.onEvent('biometry_auth_requested', onBiometryAuthRequested);\n    WebView.onEvent('biometry_token_updated',  onBiometryTokenUpdated);\n\n    function onBiometryInfoReceived(eventType, eventData) {\n      isInited = true;\n      if (eventData.available) {\n        isBiometricAvailable = true;\n        biometricType = eventData.type || 'unknown';\n        if (eventData.access_requested) {\n          isAccessRequested = true;\n          isAccessGranted = !!eventData.access_granted;\n          isBiometricTokenSaved = !!eventData.token_saved;\n        } else {\n          isAccessRequested = false;\n          isAccessGranted = false;\n          isBiometricTokenSaved = false;\n        }\n      } else {\n        isBiometricAvailable = false;\n        biometricType = 'unknown';\n        isAccessRequested = false;\n        isAccessGranted = false;\n        isBiometricTokenSaved = false;\n      }\n      deviceId = eventData.device_id || '';\n\n      if (initRequestState.callbacks.length > 0) {\n        for (var i = 0; i < initRequestState.callbacks.length; i++) {\n          var callback = initRequestState.callbacks[i];\n          callback();\n        }\n      }\n      if (accessRequestState) {\n        var state = accessRequestState;\n        accessRequestState = false;\n        if (state.callback) {\n          state.callback(isAccessGranted);\n        }\n      }\n      receiveWebViewEvent('biometricManagerUpdated');\n    }\n    function onBiometryAuthRequested(eventType, eventData) {\n      var isAuthenticated = (eventData.status == 'authorized'),\n          biometricToken = eventData.token || '';\n      if (authRequestState) {\n        var state = authRequestState;\n        authRequestState = false;\n        if (state.callback) {\n          state.callback(isAuthenticated, isAuthenticated ? biometricToken : null);\n        }\n      }\n      receiveWebViewEvent('biometricAuthRequested', isAuthenticated ? {\n        isAuthenticated: true,\n        biometricToken: biometricToken\n      } : {\n        isAuthenticated: false\n      });\n    }\n    function onBiometryTokenUpdated(eventType, eventData) {\n      var applied = false;\n      if (isBiometricAvailable &&\n          isAccessRequested) {\n        if (eventData.status == 'updated') {\n          isBiometricTokenSaved = true;\n          applied = true;\n        }\n        else if (eventData.status == 'removed') {\n          isBiometricTokenSaved = false;\n          applied = true;\n        }\n      }\n      if (tokenRequestState) {\n        var state = tokenRequestState;\n        tokenRequestState = false;\n        if (state.callback) {\n          state.callback(applied);\n        }\n      }\n      receiveWebViewEvent('biometricTokenUpdated', {\n        isUpdated: applied\n      });\n    }\n\n    function checkVersion() {\n      if (!versionAtLeast('7.2')) {\n        console.warn('[Telegram.WebApp] BiometricManager is not supported in version ' + webAppVersion);\n        return false;\n      }\n      return true;\n    }\n\n    function checkInit() {\n      if (!isInited) {\n        console.error('[Telegram.WebApp] BiometricManager should be inited before using.');\n        throw Error('WebAppBiometricManagerNotInited');\n      }\n      return true;\n    }\n\n    biometricManager.init = function(callback) {\n      if (!checkVersion()) {\n        return biometricManager;\n      }\n      if (isInited) {\n        return biometricManager;\n      }\n      if (callback) {\n        initRequestState.callbacks.push(callback);\n      }\n      WebView.postEvent('web_app_biometry_get_info', false);\n      return biometricManager;\n    };\n    biometricManager.requestAccess = function(params, callback) {\n      if (!checkVersion()) {\n        return biometricManager;\n      }\n      checkInit();\n      if (!isBiometricAvailable) {\n        console.error('[Telegram.WebApp] Biometrics is not available on this device.');\n        throw Error('WebAppBiometricManagerBiometricsNotAvailable');\n      }\n      if (accessRequestState) {\n        console.error('[Telegram.WebApp] Access is already requested');\n        throw Error('WebAppBiometricManagerAccessRequested');\n      }\n      var popup_params = {};\n      if (typeof params.reason !== 'undefined') {\n        var reason = strTrim(params.reason);\n        if (reason.length > 128) {\n          console.error('[Telegram.WebApp] Biometric reason is too long', reason);\n          throw Error('WebAppBiometricRequestAccessParamInvalid');\n        }\n        if (reason.length > 0) {\n          popup_params.reason = reason;\n        }\n      }\n\n      accessRequestState = {\n        callback: callback\n      };\n      WebView.postEvent('web_app_biometry_request_access', false, popup_params);\n      return biometricManager;\n    };\n    biometricManager.authenticate = function(params, callback) {\n      if (!checkVersion()) {\n        return biometricManager;\n      }\n      checkInit();\n      if (!isBiometricAvailable) {\n        console.error('[Telegram.WebApp] Biometrics is not available on this device.');\n        throw Error('WebAppBiometricManagerBiometricsNotAvailable');\n      }\n      if (!isAccessGranted) {\n        console.error('[Telegram.WebApp] Biometric access was not granted by the user.');\n        throw Error('WebAppBiometricManagerBiometricAccessNotGranted');\n      }\n      if (authRequestState) {\n        console.error('[Telegram.WebApp] Authentication request is already in progress.');\n        throw Error('WebAppBiometricManagerAuthenticationRequested');\n      }\n      var popup_params = {};\n      if (typeof params.reason !== 'undefined') {\n        var reason = strTrim(params.reason);\n        if (reason.length > 128) {\n          console.error('[Telegram.WebApp] Biometric reason is too long', reason);\n          throw Error('WebAppBiometricRequestAccessParamInvalid');\n        }\n        if (reason.length > 0) {\n          popup_params.reason = reason;\n        }\n      }\n\n      authRequestState = {\n        callback: callback\n      };\n      WebView.postEvent('web_app_biometry_request_auth', false, popup_params);\n      return biometricManager;\n    };\n    biometricManager.updateBiometricToken = function(token, callback) {\n      if (!checkVersion()) {\n        return biometricManager;\n      }\n      token = token || '';\n      if (token.length > 1024) {\n        console.error('[Telegram.WebApp] Token is too long', token);\n        throw Error('WebAppBiometricManagerTokenInvalid');\n      }\n      checkInit();\n      if (!isBiometricAvailable) {\n        console.error('[Telegram.WebApp] Biometrics is not available on this device.');\n        throw Error('WebAppBiometricManagerBiometricsNotAvailable');\n      }\n      if (!isAccessGranted) {\n        console.error('[Telegram.WebApp] Biometric access was not granted by the user.');\n        throw Error('WebAppBiometricManagerBiometricAccessNotGranted');\n      }\n      if (tokenRequestState) {\n        console.error('[Telegram.WebApp] Token request is already in progress.');\n        throw Error('WebAppBiometricManagerTokenUpdateRequested');\n      }\n      tokenRequestState = {\n        callback: callback\n      };\n      WebView.postEvent('web_app_biometry_update_token', false, {token: token});\n      return biometricManager;\n    };\n    biometricManager.openSettings = function() {\n      if (!checkVersion()) {\n        return biometricManager;\n      }\n      checkInit();\n      if (!isBiometricAvailable) {\n        console.error('[Telegram.WebApp] Biometrics is not available on this device.');\n        throw Error('WebAppBiometricManagerBiometricsNotAvailable');\n      }\n      if (!isAccessRequested) {\n        console.error('[Telegram.WebApp] Biometric access was not requested yet.');\n        throw Error('WebAppBiometricManagerBiometricsAccessNotRequested');\n      }\n      if (isAccessGranted) {\n        console.warn('[Telegram.WebApp] Biometric access was granted by the user, no need to go to settings.');\n        return biometricManager;\n      }\n      WebView.postEvent('web_app_biometry_open_settings', false);\n      return biometricManager;\n    };\n    return biometricManager;\n  })();\n\n  var webAppInvoices = {};\n  function onInvoiceClosed(eventType, eventData) {\n    if (eventData.slug && webAppInvoices[eventData.slug]) {\n      var invoiceData = webAppInvoices[eventData.slug];\n      delete webAppInvoices[eventData.slug];\n      if (invoiceData.callback) {\n        invoiceData.callback(eventData.status);\n      }\n      receiveWebViewEvent('invoiceClosed', {\n        url: invoiceData.url,\n        status: eventData.status\n      });\n    }\n  }\n\n  var webAppPopupOpened = false;\n  function onPopupClosed(eventType, eventData) {\n    if (webAppPopupOpened) {\n      var popupData = webAppPopupOpened;\n      webAppPopupOpened = false;\n      var button_id = null;\n      if (typeof eventData.button_id !== 'undefined') {\n        button_id = eventData.button_id;\n      }\n      if (popupData.callback) {\n        popupData.callback(button_id);\n      }\n      receiveWebViewEvent('popupClosed', {\n        button_id: button_id\n      });\n    }\n  }\n\n  var webAppScanQrPopupOpened = false;\n  function onQrTextReceived(eventType, eventData) {\n    if (webAppScanQrPopupOpened) {\n      var popupData = webAppScanQrPopupOpened;\n      var data = null;\n      if (typeof eventData.data !== 'undefined') {\n        data = eventData.data;\n      }\n      if (popupData.callback) {\n        if (popupData.callback(data)) {\n          webAppScanQrPopupOpened = false;\n          WebView.postEvent('web_app_close_scan_qr_popup', false);\n        }\n      }\n      receiveWebViewEvent('qrTextReceived', {\n        data: data\n      });\n    }\n  }\n  function onScanQrPopupClosed(eventType, eventData) {\n    webAppScanQrPopupOpened = false;\n    receiveWebViewEvent('scanQrPopupClosed');\n  }\n\n  function onClipboardTextReceived(eventType, eventData) {\n    if (eventData.req_id && webAppCallbacks[eventData.req_id]) {\n      var requestData = webAppCallbacks[eventData.req_id];\n      delete webAppCallbacks[eventData.req_id];\n      var data = null;\n      if (typeof eventData.data !== 'undefined') {\n        data = eventData.data;\n      }\n      if (requestData.callback) {\n        requestData.callback(data);\n      }\n      receiveWebViewEvent('clipboardTextReceived', {\n        data: data\n      });\n    }\n  }\n\n  var WebAppWriteAccessRequested = false;\n  function onWriteAccessRequested(eventType, eventData) {\n    if (WebAppWriteAccessRequested) {\n      var requestData = WebAppWriteAccessRequested;\n      WebAppWriteAccessRequested = false;\n      if (requestData.callback) {\n        requestData.callback(eventData.status == 'allowed');\n      }\n      receiveWebViewEvent('writeAccessRequested', {\n        status: eventData.status\n      });\n    }\n  }\n\n  function getRequestedContact(callback, timeout) {\n    var reqTo, fallbackTo, reqDelay = 0;\n    var reqInvoke = function() {\n      invokeCustomMethod('getRequestedContact', {}, function(err, res) {\n        if (res && res.length) {\n          clearTimeout(fallbackTo);\n          callback(res);\n        } else {\n          reqDelay += 50;\n          reqTo = setTimeout(reqInvoke, reqDelay);\n        }\n      });\n    };\n    var fallbackInvoke = function() {\n      clearTimeout(reqTo);\n      callback('');\n    };\n    fallbackTo = setTimeout(fallbackInvoke, timeout);\n    reqInvoke();\n  }\n\n  var WebAppContactRequested = false;\n  function onPhoneRequested(eventType, eventData) {\n    if (WebAppContactRequested) {\n      var requestData = WebAppContactRequested;\n      WebAppContactRequested = false;\n      var requestSent = eventData.status == 'sent';\n      var webViewEvent = {\n        status: eventData.status\n      };\n      if (requestSent) {\n        getRequestedContact(function(res) {\n          if (res && res.length) {\n            webViewEvent.response = res;\n            webViewEvent.responseUnsafe = Utils.urlParseQueryString(res);\n            for (var key in webViewEvent.responseUnsafe) {\n              var val = webViewEvent.responseUnsafe[key];\n              try {\n                if (val.substr(0, 1) == '{' && val.substr(-1) == '}' ||\n                    val.substr(0, 1) == '[' && val.substr(-1) == ']') {\n                  webViewEvent.responseUnsafe[key] = JSON.parse(val);\n                }\n              } catch (e) {}\n            }\n          }\n          if (requestData.callback) {\n            requestData.callback(requestSent, webViewEvent);\n          }\n          receiveWebViewEvent('contactRequested', webViewEvent);\n        }, 3000);\n      } else {\n        if (requestData.callback) {\n          requestData.callback(requestSent, webViewEvent);\n        }\n        receiveWebViewEvent('contactRequested', webViewEvent);\n      }\n    }\n  }\n\n  function onCustomMethodInvoked(eventType, eventData) {\n    if (eventData.req_id && webAppCallbacks[eventData.req_id]) {\n      var requestData = webAppCallbacks[eventData.req_id];\n      delete webAppCallbacks[eventData.req_id];\n      var res = null, err = null;\n      if (typeof eventData.result !== 'undefined') {\n        res = eventData.result;\n      }\n      if (typeof eventData.error !== 'undefined') {\n        err = eventData.error;\n      }\n      if (requestData.callback) {\n        requestData.callback(err, res);\n      }\n    }\n  }\n\n  function invokeCustomMethod(method, params, callback) {\n    if (!versionAtLeast('6.9')) {\n      console.error('[Telegram.WebApp] Method invokeCustomMethod is not supported in version ' + webAppVersion);\n      throw Error('WebAppMethodUnsupported');\n    }\n    var req_id = generateCallbackId(16);\n    var req_params = {req_id: req_id, method: method, params: params || {}};\n    webAppCallbacks[req_id] = {\n      callback: callback\n    };\n    WebView.postEvent('web_app_invoke_custom_method', false, req_params);\n  };\n\n  if (!window.Telegram) {\n    window.Telegram = {};\n  }\n\n  Object.defineProperty(WebApp, 'initData', {\n    get: function(){ return webAppInitData; },\n    enumerable: true\n  });\n  Object.defineProperty(WebApp, 'initDataUnsafe', {\n    get: function(){ return webAppInitDataUnsafe; },\n    enumerable: true\n  });\n  Object.defineProperty(WebApp, 'version', {\n    get: function(){ return webAppVersion; },\n    enumerable: true\n  });\n  Object.defineProperty(WebApp, 'platform', {\n    get: function(){ return webAppPlatform; },\n    enumerable: true\n  });\n  Object.defineProperty(WebApp, 'colorScheme', {\n    get: function(){ return colorScheme; },\n    enumerable: true\n  });\n  Object.defineProperty(WebApp, 'themeParams', {\n    get: function(){ return themeParams; },\n    enumerable: true\n  });\n  Object.defineProperty(WebApp, 'isExpanded', {\n    get: function(){ return isExpanded; },\n    enumerable: true\n  });\n  Object.defineProperty(WebApp, 'viewportHeight', {\n    get: function(){ return (viewportHeight === false ? window.innerHeight : viewportHeight) - mainButtonHeight; },\n    enumerable: true\n  });\n  Object.defineProperty(WebApp, 'viewportStableHeight', {\n    get: function(){ return (viewportStableHeight === false ? window.innerHeight : viewportStableHeight) - mainButtonHeight; },\n    enumerable: true\n  });\n  Object.defineProperty(WebApp, 'isClosingConfirmationEnabled', {\n    set: function(val){ setClosingConfirmation(val); },\n    get: function(){ return isClosingConfirmationEnabled; },\n    enumerable: true\n  });\n  Object.defineProperty(WebApp, 'isVerticalSwipesEnabled', {\n    set: function(val){ toggleVerticalSwipes(val); },\n    get: function(){ return isVerticalSwipesEnabled; },\n    enumerable: true\n  });\n  Object.defineProperty(WebApp, 'headerColor', {\n    set: function(val){ setHeaderColor(val); },\n    get: function(){ return getHeaderColor(); },\n    enumerable: true\n  });\n  Object.defineProperty(WebApp, 'backgroundColor', {\n    set: function(val){ setBackgroundColor(val); },\n    get: function(){ return getBackgroundColor(); },\n    enumerable: true\n  });\n  Object.defineProperty(WebApp, 'BackButton', {\n    value: BackButton,\n    enumerable: true\n  });\n  Object.defineProperty(WebApp, 'MainButton', {\n    value: MainButton,\n    enumerable: true\n  });\n  Object.defineProperty(WebApp, 'SettingsButton', {\n    value: SettingsButton,\n    enumerable: true\n  });\n  Object.defineProperty(WebApp, 'HapticFeedback', {\n    value: HapticFeedback,\n    enumerable: true\n  });\n  Object.defineProperty(WebApp, 'CloudStorage', {\n    value: CloudStorage,\n    enumerable: true\n  });\n  Object.defineProperty(WebApp, 'BiometricManager', {\n    value: BiometricManager,\n    enumerable: true\n  });\n  WebApp.setHeaderColor = function(color_key) {\n    WebApp.headerColor = color_key;\n  };\n  WebApp.setBackgroundColor = function(color) {\n    WebApp.backgroundColor = color;\n  };\n  WebApp.enableClosingConfirmation = function() {\n    WebApp.isClosingConfirmationEnabled = true;\n  };\n  WebApp.disableClosingConfirmation = function() {\n    WebApp.isClosingConfirmationEnabled = false;\n  };\n  WebApp.enableVerticalSwipes = function() {\n    WebApp.isVerticalSwipesEnabled = true;\n  };\n  WebApp.disableVerticalSwipes = function() {\n    WebApp.isVerticalSwipesEnabled = false;\n  };\n  WebApp.isVersionAtLeast = function(ver) {\n    return versionAtLeast(ver);\n  };\n  WebApp.onEvent = function(eventType, callback) {\n    onWebViewEvent(eventType, callback);\n  };\n  WebApp.offEvent = function(eventType, callback) {offWebViewEvent(eventType, callback);\n  };\n  WebApp.sendData = function (data) {\n    if (!data || !data.length) {\n      console.error('[Telegram.WebApp] Data is required', data);\n      throw Error('WebAppDataInvalid');\n    }\n    if (byteLength(data) > 4096) {\n      console.error('[Telegram.WebApp] Data is too long', data);\n      throw Error('WebAppDataInvalid');\n    }\n    WebView.postEvent('web_app_data_send', false, {data: data});\n  };\n  WebApp.switchInlineQuery = function (query, choose_chat_types) {\n    if (!versionAtLeast('6.6')) {\n      console.error('[Telegram.WebApp] Method switchInlineQuery is not supported in version ' + webAppVersion);\n      throw Error('WebAppMethodUnsupported');\n    }\n    if (!initParams.tgWebAppBotInline) {\n      console.error('[Telegram.WebApp] Inline mode is disabled for this bot. Read more about inline mode: https://core.telegram.org/bots/inline');\n      throw Error('WebAppInlineModeDisabled');\n    }\n    query = query || '';\n    if (query.length > 256) {\n      console.error('[Telegram.WebApp] Inline query is too long', query);\n      throw Error('WebAppInlineQueryInvalid');\n    }\n    var chat_types = [];\n    if (choose_chat_types) {\n      if (!Array.isArray(choose_chat_types)) {\n        console.error('[Telegram.WebApp] Choose chat types should be an array', choose_chat_types);\n        throw Error('WebAppInlineChooseChatTypesInvalid');\n      }\n      var good_types = {users: 1, bots: 1, groups: 1, channels: 1};\n      for (var i = 0; i < choose_chat_types.length; i++) {\n        var chat_type = choose_chat_types[i];\n        if (!good_types[chat_type]) {\n          console.error('[Telegram.WebApp] Choose chat type is invalid', chat_type);\n          throw Error('WebAppInlineChooseChatTypeInvalid');\n        }\n        if (good_types[chat_type] != 2) {\n          good_types[chat_type] = 2;\n          chat_types.push(chat_type);\n        }\n      }\n    }\n    WebView.postEvent('web_app_switch_inline_query', false, {query: query, chat_types: chat_types});\n  };\n  WebApp.openLink = function (url, options) {\n    var a = document.createElement('A');\n    a.href = url;\n    if (a.protocol != 'http:' &&\n        a.protocol != 'https:') {\n      console.error('[Telegram.WebApp] Url protocol is not supported', url);\n      throw Error('WebAppTgUrlInvalid');\n    }\n    var url = a.href;\n    options = options || {};\n    if (versionAtLeast('6.1')) {\n      var req_params = {url: url};\n      if (versionAtLeast('6.4') && options.try_instant_view) {\n        req_params.try_instant_view = true;\n      }\n      if (versionAtLeast('7.6') && options.try_browser) {\n        req_params.try_browser = options.try_browser;\n      }\n      WebView.postEvent('web_app_open_link', false, req_params);\n    } else {\n      window.open(url, '_blank');\n    }\n  };\n  WebApp.openTelegramLink = function (url) {\n    var a = document.createElement('A');\n    a.href = url;\n    if (a.protocol != 'http:' &&\n        a.protocol != 'https:') {\n      console.error('[Telegram.WebApp] Url protocol is not supported', url);\n      throw Error('WebAppTgUrlInvalid');\n    }\n    if (a.hostname != 't.me') {\n      console.error('[Telegram.WebApp] Url host is not supported', url);\n      throw Error('WebAppTgUrlInvalid');\n    }\n    var path_full = a.pathname + a.search;\n    if (isIframe || versionAtLeast('6.1')) {\n      WebView.postEvent('web_app_open_tg_link', false, {path_full: path_full});\n    } else {\n      location.href = 'https://t.me' + path_full;\n    }\n  };\n  WebApp.openInvoice = function (url, callback) {\n    var a = document.createElement('A'), match, slug;\n    a.href = url;\n    if (a.protocol != 'http:' &&\n        a.protocol != 'https:' ||\n        a.hostname != 't.me' ||\n        !(match = a.pathname.match(/^\\/(\\$|invoice\\/)([A-Za-z0-9\\-_=]+)$/)) ||\n        !(slug = match[2])) {\n      console.error('[Telegram.WebApp] Invoice url is invalid', url);\n      throw Error('WebAppInvoiceUrlInvalid');\n    }\n    if (!versionAtLeast('6.1')) {\n      console.error('[Telegram.WebApp] Method openInvoice is not supported in version ' + webAppVersion);\n      throw Error('WebAppMethodUnsupported');\n    }\n    if (webAppInvoices[slug]) {\n      console.error('[Telegram.WebApp] Invoice is already opened');\n      throw Error('WebAppInvoiceOpened');\n    }\n    webAppInvoices[slug] = {\n      url: url,\n      callback: callback\n    };\n    WebView.postEvent('web_app_open_invoice', false, {slug: slug});\n  };\n  WebApp.showPopup = function (params, callback) {\n    if (!versionAtLeast('6.2')) {\n      console.error('[Telegram.WebApp] Method showPopup is not supported in version ' + webAppVersion);\n      throw Error('WebAppMethodUnsupported');\n    }\n    if (webAppPopupOpened) {\n      console.error('[Telegram.WebApp] Popup is already opened');\n      throw Error('WebAppPopupOpened');\n    }\n    var title = '';\n    var message = '';\n    var buttons = [];\n    var popup_buttons = {};\n    var popup_params = {};\n    if (typeof params.title !== 'undefined') {\n      title = strTrim(params.title);\n      if (title.length > 64) {\n        console.error('[Telegram.WebApp] Popup title is too long', title);\n        throw Error('WebAppPopupParamInvalid');\n      }\n      if (title.length > 0) {\n        popup_params.title = title;\n      }\n    }\n    if (typeof params.message !== 'undefined') {\n      message = strTrim(params.message);\n    }\n    if (!message.length) {\n      console.error('[Telegram.WebApp] Popup message is required', params.message);\n      throw Error('WebAppPopupParamInvalid');\n    }\n    if (message.length > 256) {\n      console.error('[Telegram.WebApp] Popup message is too long', message);\n      throw Error('WebAppPopupParamInvalid');\n    }\n    popup_params.message = message;\n    if (typeof params.buttons !== 'undefined') {\n      if (!Array.isArray(params.buttons)) {\n        console.error('[Telegram.WebApp] Popup buttons should be an array', params.buttons);\n        throw Error('WebAppPopupParamInvalid');\n      }\n      for (var i = 0; i < params.buttons.length; i++) {\n        var button = params.buttons[i];\n        var btn = {};\n        var id = '';\n        if (typeof button.id !== 'undefined') {\n          id = button.id.toString();\n          if (id.length > 64) {\n            console.error('[Telegram.WebApp] Popup button id is too long', id);\n            throw Error('WebAppPopupParamInvalid');\n          }\n        }\n        btn.id = id;\n        var button_type = button.type;\n        if (typeof button_type === 'undefined') {\n          button_type = 'default';\n        }\n        btn.type = button_type;\n        if (button_type == 'ok' ||\n            button_type == 'close' ||\n            button_type == 'cancel') {\n          // no params needed\n        } else if (button_type == 'default' ||\n                   button_type == 'destructive') {\n          var text = '';\n          if (typeof button.text !== 'undefined') {\n            text = strTrim(button.text);\n          }\n          if (!text.length) {\n            console.error('[Telegram.WebApp] Popup button text is required for type ' + button_type, button.text);\n            throw Error('WebAppPopupParamInvalid');\n          }\n          if (text.length > 64) {\n            console.error('[Telegram.WebApp] Popup button text is too long', text);\n            throw Error('WebAppPopupParamInvalid');\n          }\n          btn.text = text;\n        } else {\n          console.error('[Telegram.WebApp] Popup button type is invalid', button_type);\n          throw Error('WebAppPopupParamInvalid');\n        }\n        buttons.push(btn);\n      }\n    } else {\n      buttons.push({id: '', type: 'close'});\n    }\n    if (buttons.length < 1) {\n      console.error('[Telegram.WebApp] Popup should have at least one button');\n      throw Error('WebAppPopupParamInvalid');\n    }\n    if (buttons.length > 3) {\n      console.error('[Telegram.WebApp] Popup should not have more than 3 buttons');\n      throw Error('WebAppPopupParamInvalid');\n    }\n    popup_params.buttons = buttons;\n\n    webAppPopupOpened = {\n      callback: callback\n    };\n    WebView.postEvent('web_app_open_popup', false, popup_params);\n  };\n  WebApp.showAlert = function (message, callback) {\n    WebApp.showPopup({\n      message: message\n    }, callback ? function(){ callback(); } : null);\n  };\n  WebApp.showConfirm = function (message, callback) {\n    WebApp.showPopup({\n      message: message,\n      buttons: [\n        {type: 'ok', id: 'ok'},\n        {type: 'cancel'}\n      ]\n    }, callback ? function (button_id) {\n      callback(button_id == 'ok');\n    } : null);\n  };\n  WebApp.showScanQrPopup = function (params, callback) {\n    if (!versionAtLeast('6.4')) {\n      console.error('[Telegram.WebApp] Method showScanQrPopup is not supported in version ' + webAppVersion);\n      throw Error('WebAppMethodUnsupported');\n    }\n    if (webAppScanQrPopupOpened) {\n      console.error('[Telegram.WebApp] Popup is already opened');\n      throw Error('WebAppScanQrPopupOpened');\n    }\n    var text = '';\n    var popup_params = {};\n    if (typeof params.text !== 'undefined') {\n      text = strTrim(params.text);\n      if (text.length > 64) {\n        console.error('[Telegram.WebApp] Scan QR popup text is too long', text);\n        throw Error('WebAppScanQrPopupParamInvalid');\n      }\n      if (text.length > 0) {\n        popup_params.text = text;\n      }\n    }\n\n    webAppScanQrPopupOpened = {\n      callback: callback\n    };\n    WebView.postEvent('web_app_open_scan_qr_popup', false, popup_params);\n  };\n  WebApp.closeScanQrPopup = function () {\n    if (!versionAtLeast('6.4')) {\n      console.error('[Telegram.WebApp] Method closeScanQrPopup is not supported in version ' + webAppVersion);\n      throw Error('WebAppMethodUnsupported');\n    }\n\n    webAppScanQrPopupOpened = false;\n    WebView.postEvent('web_app_close_scan_qr_popup', false);\n  };\n  WebApp.readTextFromClipboard = function (callback) {\n    if (!versionAtLeast('6.4')) {\n      console.error('[Telegram.WebApp] Method readTextFromClipboard is not supported in version ' + webAppVersion);\n      throw Error('WebAppMethodUnsupported');\n    }\n    var req_id = generateCallbackId(16);\n    var req_params = {req_id: req_id};\n    webAppCallbacks[req_id] = {\n      callback: callback\n    };\n    WebView.postEvent('web_app_read_text_from_clipboard', false, req_params);\n  };\n  WebApp.requestWriteAccess = function (callback) {\n    if (!versionAtLeast('6.9')) {\n      console.error('[Telegram.WebApp] Method requestWriteAccess is not supported in version ' + webAppVersion);\n      throw Error('WebAppMethodUnsupported');\n    }\n    if (WebAppWriteAccessRequested) {\n      console.error('[Telegram.WebApp] Write access is already requested');\n      throw Error('WebAppWriteAccessRequested');\n    }\n    WebAppWriteAccessRequested = {\n      callback: callback\n    };\n    WebView.postEvent('web_app_request_write_access');\n  };\n  WebApp.requestContact = function (callback) {\n    if (!versionAtLeast('6.9')) {\n      console.error('[Telegram.WebApp] Method requestContact is not supported in version ' + webAppVersion);\n      throw Error('WebAppMethodUnsupported');\n    }\n    if (WebAppContactRequested) {\n      console.error('[Telegram.WebApp] Contact is already requested');\n      throw Error('WebAppContactRequested');\n    }\n    WebAppContactRequested = {\n      callback: callback\n    };\n    WebView.postEvent('web_app_request_phone');\n  };\n  WebApp.shareToStory = function (media_url, params) {\n    params = params || {};\n    if (!versionAtLeast('7.8')) {\n      console.error('[Telegram.WebApp] Method shareToStory is not supported in version ' + webAppVersion);\n      throw Error('WebAppMethodUnsupported');\n    }\n    var a = document.createElement('A');\n    a.href = media_url;\n    if (a.protocol != 'http:' &&\n        a.protocol != 'https:') {\n      console.error('[Telegram.WebApp] Media url protocol is not supported', url);\n      throw Error('WebAppMediaUrlInvalid');\n    }\n    var share_params = {};\n    share_params.media_url = a.href;\n    if (typeof params.text !== 'undefined') {\n      var text = strTrim(params.text);\n      if (text.length > 2048) {\n        console.error('[Telegram.WebApp] Text is too long', text);\n        throw Error('WebAppShareToStoryParamInvalid');\n      }\n      if (text.length > 0) {\n        share_params.text = text;\n      }\n    }\n    if (typeof params.widget_link !== 'undefined') {\n      params.widget_link = params.widget_link || {};\n      a.href = params.widget_link.url;\n      if (a.protocol != 'http:' &&\n          a.protocol != 'https:') {\n        console.error('[Telegram.WebApp] Link protocol is not supported', url);\n        throw Error('WebAppShareToStoryParamInvalid');\n      }\n      var widget_link = {\n        url: a.href\n      };\n      if (typeof params.widget_link.name !== 'undefined') {\n        var link_name = strTrim(params.widget_link.name);\n        if (link_name.length > 48) {\n          console.error('[Telegram.WebApp] Link name is too long', link_name);\n          throw Error('WebAppShareToStoryParamInvalid');\n        }\n        if (link_name.length > 0) {\n          widget_link.name = link_name;\n        }\n      }\n      share_params.widget_link = widget_link;\n    }\n\n    WebView.postEvent('web_app_share_to_story', false, share_params);\n  };\n  WebApp.invokeCustomMethod = function (method, params, callback) {\n    invokeCustomMethod(method, params, callback);\n  };\n  WebApp.ready = function () {\n    WebView.postEvent('web_app_ready');\n  };\n  WebApp.expand = function () {\n    WebView.postEvent('web_app_expand');\n  };\n  WebApp.close = function (options) {\n    options = options || {};\n    var req_params = {};\n    if (versionAtLeast('7.6') && options.return_back) {\n      req_params.return_back = true;\n    }\n    WebView.postEvent('web_app_close', false, req_params);\n  };\n\n  window.Telegram.WebApp = WebApp;\n\n  updateHeaderColor();\n  updateBackgroundColor();\n  setViewportHeight();\n  if (initParams.tgWebAppShowSettings) {\n    SettingsButton.show();\n  }\n\n  window.addEventListener('resize', onWindowResize);\n  if (isIframe) {\n    document.addEventListener('click', linkHandler);\n  }\n\n  WebView.onEvent('theme_changed', onThemeChanged);\n  WebView.onEvent('viewport_changed', onViewportChanged);\n  WebView.onEvent('invoice_closed', onInvoiceClosed);\n  WebView.onEvent('popup_closed', onPopupClosed);\n  WebView.onEvent('qr_text_received', onQrTextReceived);\n  WebView.onEvent('scan_qr_popup_closed', onScanQrPopupClosed);\n  WebView.onEvent('clipboard_text_received', onClipboardTextReceived);\n  WebView.onEvent('write_access_requested', onWriteAccessRequested);\n  WebView.onEvent('phone_requested', onPhoneRequested);\n  WebView.onEvent('custom_method_invoked', onCustomMethodInvoked);\n  WebView.postEvent('web_app_request_theme');\n  WebView.postEvent('web_app_request_viewport');\n\n})();\n"],"names":[],"version":3,"file":"bitgesell-wallet.f8233ce0.js.map"}